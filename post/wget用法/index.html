<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="我会向你展示10个 Wget 命令的实际案例. Wget 是一个用于下载文件的免费工具，它支持大多数常用的Internet协议，包括 HTTP, HTTPS, 以及 FTP.\nWget这个名字来源于 World Wide Web + get. Wget 有很多功能，可以很方便地做到下载大型文件,递归下载,一次下载多个文件以及镜像web网站和FTP站点.\nWget是非交互式的，但是使用起来相当的灵活. 你可以在脚本，cron任务，终端等地方调用它. 它可以在用户未登陆的情况下运行在后台. 也就是说你可以开始下载文件，然后退出系统，wget会在后台运行直到完成任务.\n在本文中，我将演示一些wget的使用例子, 这些例子都很常见,比如下载文件，比如镜像整个网站.\n在演示前,我们先在 Ubuntu 16.04 VPS 上安装wget.\n请注意，虽然该演示是在 Ubuntu 16.04 上进行的, 但是这些命令在其他 Linux 发行版中同样适用.\n登陆服务器并安装wget\n第一步是 通过SSH登陆服务器.\n使用下面命令更新你的服务器:\napt-get update apt-get upgrade\n然后安装wget软件包:\napt-get install wget\n安装完成后，就可以开始使用wget命令了.\n下载单个文件 wget最常用也是最简单的用法就是用来下载单个文件.\n你可以用下面命令想下载最新版的WordPress\nwget https://wordpress.org/latest.zip\n你会看到如下输出:\n&ndash;2017-10-14 03:46:06&ndash; https://wordpress.org/latest.zip Resolving wordpress.org (wordpress.org)&mldr; 66.155.40.250, 66.155.40.249 Connecting to wordpress.org (wordpress.org)|66.155.40.250|:443&mldr; connected. HTTP request sent, awaiting response&mldr; 200 OK Length: 8912693 (8.5M) [application/zip] Saving to: &rsquo;latest.zip'\n"><title>Wget用法</title>
<link rel=canonical href=https://jerrygoodluck.github.io/about/post/wget%E7%94%A8%E6%B3%95/><link rel=stylesheet href=/about/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Wget用法"><meta property='og:description' content="我会向你展示10个 Wget 命令的实际案例. Wget 是一个用于下载文件的免费工具，它支持大多数常用的Internet协议，包括 HTTP, HTTPS, 以及 FTP.\nWget这个名字来源于 World Wide Web + get. Wget 有很多功能，可以很方便地做到下载大型文件,递归下载,一次下载多个文件以及镜像web网站和FTP站点.\nWget是非交互式的，但是使用起来相当的灵活. 你可以在脚本，cron任务，终端等地方调用它. 它可以在用户未登陆的情况下运行在后台. 也就是说你可以开始下载文件，然后退出系统，wget会在后台运行直到完成任务.\n在本文中，我将演示一些wget的使用例子, 这些例子都很常见,比如下载文件，比如镜像整个网站.\n在演示前,我们先在 Ubuntu 16.04 VPS 上安装wget.\n请注意，虽然该演示是在 Ubuntu 16.04 上进行的, 但是这些命令在其他 Linux 发行版中同样适用.\n登陆服务器并安装wget\n第一步是 通过SSH登陆服务器.\n使用下面命令更新你的服务器:\napt-get update apt-get upgrade\n然后安装wget软件包:\napt-get install wget\n安装完成后，就可以开始使用wget命令了.\n下载单个文件 wget最常用也是最简单的用法就是用来下载单个文件.\n你可以用下面命令想下载最新版的WordPress\nwget https://wordpress.org/latest.zip\n你会看到如下输出:\n&ndash;2017-10-14 03:46:06&ndash; https://wordpress.org/latest.zip Resolving wordpress.org (wordpress.org)&mldr; 66.155.40.250, 66.155.40.249 Connecting to wordpress.org (wordpress.org)|66.155.40.250|:443&mldr; connected. HTTP request sent, awaiting response&mldr; 200 OK Length: 8912693 (8.5M) [application/zip] Saving to: &rsquo;latest.zip'\n"><meta property='og:url' content='https://jerrygoodluck.github.io/about/post/wget%E7%94%A8%E6%B3%95/'><meta property='og:site_name' content='Lost Temple'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='linux'><meta property='article:published_time' content='2022-07-31T11:20:32+08:00'><meta property='article:modified_time' content='2022-07-31T11:20:32+08:00'><meta name=twitter:title content="Wget用法"><meta name=twitter:description content="我会向你展示10个 Wget 命令的实际案例. Wget 是一个用于下载文件的免费工具，它支持大多数常用的Internet协议，包括 HTTP, HTTPS, 以及 FTP.\nWget这个名字来源于 World Wide Web + get. Wget 有很多功能，可以很方便地做到下载大型文件,递归下载,一次下载多个文件以及镜像web网站和FTP站点.\nWget是非交互式的，但是使用起来相当的灵活. 你可以在脚本，cron任务，终端等地方调用它. 它可以在用户未登陆的情况下运行在后台. 也就是说你可以开始下载文件，然后退出系统，wget会在后台运行直到完成任务.\n在本文中，我将演示一些wget的使用例子, 这些例子都很常见,比如下载文件，比如镜像整个网站.\n在演示前,我们先在 Ubuntu 16.04 VPS 上安装wget.\n请注意，虽然该演示是在 Ubuntu 16.04 上进行的, 但是这些命令在其他 Linux 发行版中同样适用.\n登陆服务器并安装wget\n第一步是 通过SSH登陆服务器.\n使用下面命令更新你的服务器:\napt-get update apt-get upgrade\n然后安装wget软件包:\napt-get install wget\n安装完成后，就可以开始使用wget命令了.\n下载单个文件 wget最常用也是最简单的用法就是用来下载单个文件.\n你可以用下面命令想下载最新版的WordPress\nwget https://wordpress.org/latest.zip\n你会看到如下输出:\n&ndash;2017-10-14 03:46:06&ndash; https://wordpress.org/latest.zip Resolving wordpress.org (wordpress.org)&mldr; 66.155.40.250, 66.155.40.249 Connecting to wordpress.org (wordpress.org)|66.155.40.250|:443&mldr; connected. HTTP request sent, awaiting response&mldr; 200 OK Length: 8912693 (8.5M) [application/zip] Saving to: &rsquo;latest.zip'\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/about/><img src=/about/img/avatar_hu13739649187745961479.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/about>Lost Temple</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/about/about/><span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/about/categories/%E6%9D%82%E8%AE%B0/>杂记</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/about/post/wget%E7%94%A8%E6%B3%95/>Wget用法</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jul 31, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>2 minute read</time></div></footer></div></header><section class=article-content><p>我会向你展示10个 Wget 命令的实际案例. Wget 是一个用于下载文件的免费工具，它支持大多数常用的Internet协议，包括 HTTP, HTTPS, 以及 FTP.</p><p>Wget这个名字来源于 World Wide Web + get. Wget 有很多功能，可以很方便地做到下载大型文件,递归下载,一次下载多个文件以及镜像web网站和FTP站点.</p><p>Wget是非交互式的，但是使用起来相当的灵活. 你可以在脚本，cron任务，终端等地方调用它. 它可以在用户未登陆的情况下运行在后台. 也就是说你可以开始下载文件，然后退出系统，wget会在后台运行直到完成任务.</p><p>在本文中，我将演示一些wget的使用例子, 这些例子都很常见,比如下载文件，比如镜像整个网站.</p><p>在演示前,我们先在 Ubuntu 16.04 VPS 上安装wget.</p><p>请注意，虽然该演示是在 Ubuntu 16.04 上进行的, 但是这些命令在其他 Linux 发行版中同样适用.</p><p>登陆服务器并安装wget</p><p>第一步是 通过SSH登陆服务器.</p><p>使用下面命令更新你的服务器:</p><p>apt-get update
apt-get upgrade</p><p>然后安装wget软件包:</p><p>apt-get install wget</p><p>安装完成后，就可以开始使用wget命令了.</p><p>下载单个文件
wget最常用也是最简单的用法就是用来下载单个文件.</p><p>你可以用下面命令想下载最新版的WordPress</p><p>wget <a class=link href=https://wordpress.org/latest.zip target=_blank rel=noopener>https://wordpress.org/latest.zip</a></p><p>你会看到如下输出:</p><p>&ndash;2017-10-14 03:46:06&ndash; <a class=link href=https://wordpress.org/latest.zip target=_blank rel=noopener>https://wordpress.org/latest.zip</a>
Resolving wordpress.org (wordpress.org)&mldr; 66.155.40.250, 66.155.40.249
Connecting to wordpress.org (wordpress.org)|66.155.40.250|:443&mldr; connected.
HTTP request sent, awaiting response&mldr; 200 OK
Length: 8912693 (8.5M) [application/zip]
Saving to: &rsquo;latest.zip'</p><p>latest.zip 100%[=====================================================================================================>] 8.50M 5.03MB/s in 1.7s</p><p>2017-10-14 03:46:07 (5.03 MB/s) - &rsquo;latest.zip&rsquo; saved [8912693/8912693]</p><p>从中可以看出，wget还会显示出下载的进度, 当前下载速度, 文件大小, 当前日期时间 以及待下载文件的名称.</p><p>在我们的例子中, wget会下载文件并以”latest.zip”为名存放到当前目录中.zip” name.</p><p>下载文件并重命名
若你想以其他名称保存下载的文件，可以使用 -O 选项:</p><p>wget -O wordpress.zip <a class=link href=https://wordpress.org/latest.zip target=_blank rel=noopener>https://wordpress.org/latest.zip</a></p><p>wget会下载文件并以”wordpress.zip”为名存放到当前目录中.zip” name.</p><p>指定下载目录
使用 -P 选项指定下载目录:</p><p>wget -P /opt/wordpress <a class=link href=https://wordpress.org/latest.zip target=_blank rel=noopener>https://wordpress.org/latest.zip</a></p><p>就会把文件下载到 /opt/wordpress 目录中.</p><p>限制下载速度
当你下载大型文件时,可能耗时很长,这事你可以限制wget的下载速度以防止它把整个带宽都占满了.</p><p>下面命令就将下载速度限制在了每秒300k:</p><p>wget &ndash;limit-rate=300k <a class=link href=https://wordpress.org/latest.zip target=_blank rel=noopener>https://wordpress.org/latest.zip</a></p><p>断点续传
在下载大型文件时，可能会由于网络连接抖动造成下载中断.</p><p>为了避免重新下载，可以使用 -c 选项进行断点续传:</p><p>wget -c <a class=link href=https://wordpress.org/latest.zip target=_blank rel=noopener>https://wordpress.org/latest.zip</a></p><p>若下载中断后你没有用 -c 进行断点续传，而是重新下载, wget 会在文件名后加上 “.1” 防止与前面下载的文件重名.</p><p>后台下载
当下载大型文件时, 可以使用 -b 选项让wget在后台下载文件.</p><p>wget -b <a class=link href=http://example.com/big-file.zip target=_blank rel=noopener>http://example.com/big-file.zip</a></p><p>输出内容会写入同目录下的 “wget-log” 文件, 这样你就可以用下面命令来检查下载状态了:</p><p>tail -f wget-log</p><p>设置重试次数
若网络有问题导致下载时常中断,就可以使用 -tries 选项增加重试次数:</p><p>wget -tries=100 <a class=link href=https://example.com/file.zip target=_blank rel=noopener>https://example.com/file.zip</a></p><p>下载多文件
若你想同时下载多个文件,你可以将要在的文件URL存放在一个文本文件中(假设该文件名为download.txt).</p><p>下面命令创建一个文本文件:</p><p>touch download.txt</p><p>然后可以用 nano 编辑该文件，输入所有想下载的文件URL:</p><p>nano download.txt</p><p><a class=link href=http://example.com/file1.zip target=_blank rel=noopener>http://example.com/file1.zip</a></p><p><a class=link href=http://example.com/file2.zip target=_blank rel=noopener>http://example.com/file2.zip</a></p><p><a class=link href=http://example.com/file3.zip target=_blank rel=noopener>http://example.com/file3.zip</a></p><p>保存该文件, 然后使用 -i 选项下载文本文件中保存的所有文件:</p><p>wget -i download.txt</p><p>下载FTP文件
wget还支持下载FTP文件，可以为它设置用户名和密码，如下所示:</p><p>wget &ndash;ftp-user=username &ndash;ftp-password=password ftp://url-to-ftp-file</p><p>下载整个网站
你甚至可以用wget下载完整的站点, 然后进行离线浏览. 方法是使用如下命令:</p><p>wget &ndash;mirror &ndash;convert-links &ndash;page-requisites &mdash;-no-parent -P /path/to/download <a class=link href=https://example-domain.com target=_blank rel=noopener>https://example-domain.com</a></p><p>—mirror 会开启镜像所需要的所有选项.</p><p>–convert-links 会将所有链接转换成本地链接以便离线浏览.</p><p>–page-requisites 表示下载包括CSS样式文件，图片等所有所需的文件，以便离线时能正确地现实页面.</p><p>–no-parent 用于限制只下载网站的某一部分内容.</p><p>此外, 你可以使用 P 设置下载路径.</p></section><footer class=article-footer><section class=article-tags><a href=/about/tags/linux/>Linux</a></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2024 Lost Temple</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/about/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>